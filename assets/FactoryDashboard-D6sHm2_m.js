import{g as Q,a as J,c as d,j as t,r as m,u as X,b as c,s as C,d as _,I as ee,e as h,f as te,P as A,m as oe,h as k,l as P,i as S,B as f,T as z,k as se,n as re,o as ae,p as le,q as ne,t as ie,C as ce,v as $}from"./index-DEu_gJ5z.js";function de(e){return J("MuiAlert",e)}const L=Q("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),pe=d(t.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ue=d(t.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ge=d(t.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),xe=d(t.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ve=d(t.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),fe=e=>{const{variant:s,color:r,severity:o,classes:l}=e,a={root:["root",`color${h(r||o)}`,`${s}${h(r||o)}`,`${s}`],icon:["icon"],message:["message"],action:["action"]};return te(a,de,l)},me=C(A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:r}=e;return[s.root,s[r.variant],s[`${r.variant}${h(r.color||r.severity)}`]]}})(oe(({theme:e})=>{const s=e.palette.mode==="light"?k:P,r=e.palette.mode==="light"?P:k;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(S(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:s(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:r(e.palette[o].light,.9),[`& .${L.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(S(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${o}Color`]:s(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${L.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}}})),...Object.entries(e.palette).filter(S(["dark"])).map(([o])=>({props:{colorSeverity:o,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)}}}))]}})),Ce=C("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,s)=>s.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ye=C("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,s)=>s.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Se=C("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,s)=>s.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),B={success:t.jsx(pe,{fontSize:"inherit"}),warning:t.jsx(ue,{fontSize:"inherit"}),error:t.jsx(ge,{fontSize:"inherit"}),info:t.jsx(xe,{fontSize:"inherit"})},he=m.forwardRef(function(s,r){const o=X({props:s,name:"MuiAlert"}),{action:l,children:a,className:y,closeText:p="Close",color:u,components:g={},componentsProps:R={},icon:j,iconMapping:T=B,onClose:b,role:F="alert",severity:x="success",slotProps:O={},slots:w={},variant:E="standard",...W}=o,n={...o,color:u,severity:x,variant:E,colorSeverity:u||x},v=fe(n),i={slots:{closeButton:g.CloseButton,closeIcon:g.CloseIcon,...w},slotProps:{...R,...O}},[U,D]=c("root",{ref:r,shouldForwardComponentProp:!0,className:_(v.root,y),elementType:me,externalForwardedProps:{...i,...W},ownerState:n,additionalProps:{role:F,elevation:0}}),[H,N]=c("icon",{className:v.icon,elementType:Ce,externalForwardedProps:i,ownerState:n}),[V,q]=c("message",{className:v.message,elementType:ye,externalForwardedProps:i,ownerState:n}),[M,I]=c("action",{className:v.action,elementType:Se,externalForwardedProps:i,ownerState:n}),[Y,Z]=c("closeButton",{elementType:ee,externalForwardedProps:i,ownerState:n}),[G,K]=c("closeIcon",{elementType:ve,externalForwardedProps:i,ownerState:n});return t.jsxs(U,{...D,children:[j!==!1?t.jsx(H,{...N,children:j||T[x]||B[x]}):null,t.jsx(V,{...q,children:a}),l!=null?t.jsx(M,{...I,children:l}):null,l==null&&b?t.jsx(M,{...I,children:t.jsx(Y,{size:"small","aria-label":p,title:p,color:"inherit",onClick:b,...Z,children:t.jsx(G,{fontSize:"small",...K})})}):null]})}),Ae=d(t.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),je=e=>e.factory.metrics,be=()=>{const[e,s]=m.useState(""),[r,o]=m.useState(""),l=a=>{a.preventDefault(),console.log("IP Adresi:",e),console.log("Port:",r)};return t.jsxs(f,{component:"form",onSubmit:l,sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsx(z,{label:"IP Adresi",value:e,onChange:a=>s(a.target.value),required:!0}),t.jsx(z,{label:"Port",value:r,onChange:a=>o(a.target.value),required:!0}),t.jsx(se,{type:"submit",variant:"contained",color:"primary",children:"Yapılandırmayı Kaydet"})]})},Ie=({factoryId:e})=>{const s=re(),r=ae(),{data:o,error:l,isLoading:a}=le(e),[y]=ne();ie(je),m.useEffect(()=>(r({type:"factory/connectWebSocket",payload:e}),()=>{r({type:"factory/disconnectWebSocket"})}),[r,e]);const p=async u=>{try{await y(u).unwrap()}catch(g){console.error("Yapılandırma güncellemesi başarısız:",g)}};return t.jsxs(f,{children:[a?t.jsx(ce,{}):l?t.jsxs(he,{severity:"error",children:["Metrikler yüklenemedi: ",l.message]}):t.jsxs(f,{children:[t.jsx($,{variant:"h6",gutterBottom:!0,children:"Gerçek Zamanlı Metrikler"}),t.jsx(A,{sx:{p:2,backgroundColor:s.palette.mode==="dark"?s.palette.background.paper:"#e0f7fa",border:"1px solid",borderColor:s.palette.mode==="dark"?s.palette.divider:"#00796b"}})]}),t.jsxs(f,{sx:{mt:4},children:[t.jsxs($,{variant:"h6",gutterBottom:!0,children:[t.jsx(Ae,{fontSize:"small",sx:{mr:1}}),"Modbus Yapılandırması"]}),t.jsx(A,{sx:{p:2,backgroundColor:s.palette.mode==="dark"?s.palette.background.paper:"#e0f7fa",border:"1px solid",borderColor:s.palette.mode==="dark"?s.palette.divider:"#00796b"},children:t.jsx(be,{onSubmit:p})})]})]})};export{Ie as default};
